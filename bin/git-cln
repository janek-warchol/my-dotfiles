#!/bin/bash

case "$*" in
  *jw-git-examples/*)
    GIT_EMAIL=jan.warchol@gmail.com
    ;;
  *jan-warchol/*)
    GIT_EMAIL=jan.warchol@gmail.com
    ;;
  git@gitlab.nethone.io:*)
    GIT_EMAIL=jan.warchol@nhx.bz
    ;;
  git@gitlab.codility.net:*)
    GIT_EMAIL=jan.warchol@codility.com
    ;;
  *)
esac
CLONE_OPTS="--config user.email=$GIT_EMAIL"

git clone $CLONE_OPTS "$@" &&

if [ -n "$GIT_EMAIL" ]; then
  echo -e "user.email set to \e[1;37m$GIT_EMAIL\e[0m"
else
  echo Not possible to guess which email address to use. Set it manually.
fi
